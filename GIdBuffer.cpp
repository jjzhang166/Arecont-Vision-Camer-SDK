//---------------------------------------------------------------------------
#pragma hdrstop
//---------------------------------------------------------------------------
#include "GIdBuffer.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
//---------------------------------------------------------------------------
GIdBuffer::GIdBuffer()
   : align(8192), size(0), buff(0)
{
   Resize(align);
}
//---------------------------------------------------------------------------
GIdBuffer::~GIdBuffer()
{
   delete[] buff;
   buff = 0;
}
//---------------------------------------------------------------------------
void GIdBuffer::Resize(unsigned long nsz)
{
   delete[] buff;
   buff = 0;
   size = 0;
   nsz = (nsz / align + static_cast<bool>(nsz % align)) * align;
   buff = new char[nsz];
   size = nsz;
}
//---------------------------------------------------------------------------
void GIdBuffer::Size(unsigned long nsz)
{
   if(nsz > size)
      Resize(nsz);
}
//---------------------------------------------------------------------------
